{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/index.js"],"names":["registerBlockType","wp","blocks","editor","RichText","InspectorControls","useBlockProps","ServerSideRender","components","ToggleControl","PanelBody","PanelRow","CheckboxControl","SelectControl","ColorPicker","useSelect","data","title","icon","category","attributes","postcount","type","rangeslider","description","keywords","edit","props","updateTitle","event","setAttributes","target","value","updatePostCount","postData","select","posts","getEntityRecords","per_page","_embed","authors","getUsers","who","map","post","i","postImg","_embedded","currentAuthor","find","author","id","console","log","link","raw","first_name","last_name","name","save"],"mappings":"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","file":"index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/index.js\");\n","const { registerBlockType } = wp.blocks;\nconst { RichText, InspectorControls, useBlockProps } = wp.editor;\nconst { ServerSideRender } = wp.editor;\nconst { ToggleControl, PanelBody, PanelRow, CheckboxControl, SelectControl, ColorPicker } = wp.components;\nconst { useSelect } = wp.data;\n\nregisterBlockType('recent-post-block-gutenberg/recent-post-block', {\n\ttitle: 'SS Recent Post',\t\t// Block name visible to user\n\ticon: 'lightbulb',\t// Toolbar icon can be either using WP Dashicons or custom SVG\n\tcategory: 'common',\t// Under which category the block would appear\n\tattributes: {\t\t\t// The data this block will be storing\n\t\tpostcount: { type: 'number', default: 4 },\t// Post Count\n\t\trangeslider: { type: 'range', default: 4 },\t// Post Count\n\t\ttitle: { type: 'string' },\t\t\t// Section Title\n\t\t'preview' : true,\n\t},\n\tdescription: 'Show Recent Posts',\n\tkeywords: ['recent post', 'post' , 'selected post'],\n\tedit: (props) => {\n\t\tconst { attributes } = props;\n\n\t\tfunction updateTitle( event ) {\n\t\t\tprops.setAttributes( { title: event.target.value } );\n\t\t }\n\n\t\t function updatePostCount( event ) {\n\t\t\tprops.setAttributes( { postcount: event.target.value } );\n\t\t }\n\t\t// Make the data request.\n\t\tconst postData = useSelect((select) => {\n\t\t\t//return select('core').getEntityRecords('postType', 'post', { per_page: attributes.postcount , _embed: true,});\n\t\t\treturn{\n\t\t\t\tposts : select('core').getEntityRecords('postType', 'post', { per_page: attributes.postcount , _embed: 'wp:featuredmedia'}),\n\t\t\t\tauthors : select( 'core' ).getUsers({ who: 'authors' })\n\n\t\t\t}\n\t\t});\n\t\treturn (<div>\n\t\t\t\t<InspectorControls>\n\t\t\t\t\t<PanelBody title={'Post Display Setting'}>\n\t\t\t\t\t\t<p><strong>Enter PostCount</strong></p>\n\t\t\t\t\t\t<div><input type=\"number\" name=\"postcount\" value={attributes.postcount} onChange={updatePostCount} /></div>\n\t\t\t\t\t\t<div><input type=\"range\" name=\"rangslider\" placeholder=\"Enter Post Count...\" value={attributes.postcount} onChange={updatePostCount} /></div>\n\t\t\t\t\t\t<div><input type=\"text\" name=\"title\" placeholder=\"Enter title here...\" value={attributes.title} onChange={updateTitle} /></div>\n\t\t\t\t\t</PanelBody>\n\t\t\t\t</InspectorControls>\n\t\t\t\t<div>\n\t\t\t\t\t<div class=\"ss-post-container\">\n\t\t\t\t\t\t<h2>{attributes.title}</h2>\n\t\t\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tpostData.posts &&\n\t\t\t\t\t\t\t\t\t\tpostData.posts.map(( post, i) => {\n\t\t\t\t\t\t\t\t\t\t\t{ postImg = (post._embedded ? post._embedded['wp:featuredmedia'][0]['source_url']  : '../wp-content/plugins/recent-post-block-master/images/No-image-available.png') }\n\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\tconst currentAuthor = postData.authors?.find(\n\t\t\t\t\t\t\t\t\t\t\t\t( author ) => author.id === post.author\n\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t{console.log(currentAuthor)}\n\n\t\t\t\t\t\t\t\t\t\treturn <li class=\"post-box\">\n\t\t\t\t\t\t\t\t\t\t\t<p><img src={postImg}></img></p>\n\t\t\t\t\t\t\t\t\t\t\t<p><a href={post.link} target=\"_blank\">{post.title.raw}</a></p>\n\t\t\t\t\t\t\t\t\t\t\t<p>By - {currentAuthor.first_name}{currentAuthor.last_name} ({currentAuthor.name})</p>\n\t\t\t\t\t\t\t\t\t\t\t</li>;\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t)\n\n\t},\n\tsave: (props) => {\n\t\treturn <div></div>;\n\t}\n});"],"sourceRoot":""}